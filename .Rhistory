xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10))) #r means right
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Habitat))+
geom_point(shape = 16)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2))+
geom_point(shape = 21,
colour = "black")+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10))) #r means right
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Habitat))+
geom_point(shape = 21)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black")+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
#| eval: true
#| echo: true
#| warning: false
#| message: false
#URL to access the data
url <- "https://raw.github.com/BenjaminDelory/GEO2-2439/master/Data/data_microclimate.csv"
#Import data in R
data_microclimate <- read_csv(url)
View(data)
data_microclimate <- data_microclimate |>
add_column(Date=str_sub(data_microclimate$Time_UTC,
start = 1,
end=10),
.after=Time_UTC)
data_microclimate <- data_microclimate |>
add_column(Date=str_sub(data_microclimate$Time_UTC,
start = 1,
end=10),
.after="Time_UTC")
data_microclimate <- str_replace(data_microclimate$Date,
pattern = "-0",
replacement = "-")
#| eval: true
#| echo: true
#| warning: false
#| message: false
#URL to access the data
url <- "https://raw.github.com/BenjaminDelory/GEO2-2439/master/Data/data_microclimate.csv"
#Import data in R
data_microclimate <- read_csv(url)
data_microclimate <- data_microclimate |>
add_column(Date=str_sub(data_microclimate$Time_UTC,
start = 1,
end=10),
.after="Time_UTC")
data_microclimate$Date <- str_replace(data_microclimate$Date,
pattern = "-0",
replacement = "-")
unique(data_microclimate$Date)
data_microclimate <- read_csv(url)
data_microclimate <- data_microclimate |>
add_column(Date=str_sub(data_microclimate$Time_UTC,
start = 1,
end=10),
.after="Time_UTC")
data_microclimate$Date <- str_replace_all(data_microclimate$Date,
pattern = "-0",
replacement = "-")
unique(data_microclimate$Date)
unique(data$Date)
data_microclimate <- data_microclimate |>
group_by(Date, Site, Location) |>
summarise(Avg_T2 = mean(T2))
View(data_microclimate)
unique(data$Date)
data_plot <- data |>
filter(Species != "Deadwood") |>
filter(Species != "Bare_ground") |>
filter(Species != "Litter") |>
group_by(Date, Site, Location, Plot, Species) |> #Group data
summarise(Avg_cover = mean(Cover)) |> #Calculate average cover for each species in a plot (at a specific date)
group_by(Date, Site, Location, Plot) |> #Regroup data
summarise(Species_richness=length(Species)) |>  #Calculate species richness in each plot (at a specific date)
left_join(data_microclimate, #Add temperature data
by=c("Date", "Site", "Location")) |>
separate_wider_delim(cols = "Site", #Split Site column
delim = "_",
names = c("Site_code", "Habitat"),
cols_remove = FALSE) |>
mutate(Location = as.factor(Location)) #Transform Location variable as a factor
View(data_plot)
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2))+
geom_point(shape = 21,
colour = "black")+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10))) #r means right
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Date))+
geom_point(shape = 21,
colour = "black",
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Date))+
geom_point(shape = 21,
colour = "black",
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Habitat))+
geom_point(shape = 21,
colour = "black",
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Date))+
geom_point(shape = 21,
colour = "black",
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_fill_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2))+
geom_point(shape = 16,
colour = "black")+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10))) #r means right
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
fill = Date))+
geom_point(shape = 16,
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 21,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
data_plot <- data |>
filter(Species != "Deadwood") |>
filter(Species != "Bare_ground") |>
filter(Species != "Litter") |>
group_by(Date, Site, Location, Plot, Species) |> #Group data
summarise(Avg_cover = mean(Cover)) |> #Calculate average cover for each species in a plot (at a specific date)
group_by(Date, Site, Location, Plot) |> #Regroup data
summarise(Species_richness=length(Species)) |>  #Calculate species richness in each plot (at a specific date)
left_join(data_microclimate, #Add temperature data
by=c("Date", "Site", "Location")) |>
separate_wider_delim(cols = "Site", #Split Site column
delim = "_",
names = c("Site_code", "Habitat"),
cols_remove = FALSE) |>
mutate(Location = as.factor(Location)) #Transform Location variable as a factor
#| eval: true
#| echo: true
#| warning: false
#| message: false
data_plot <- data_plot |>
group_by(Date, Habitat, Location) |>
summarise(Species_richness=mean(Species_richness),
Avg_T2 = mean(Avg_T2))
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2))+
geom_point(shape = 16,
colour = "black")+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10))) #r means right
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 2)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")+
geom_smooth(span=1.5)
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")+
geom_smooth(method="lm")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm")+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm", fill = "lightgrey")+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)))+ #r means right
scale_colour_viridis(discrete = TRUE,
option = "D")
data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm",
fill = "lightgrey")+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)), #r means right
panel.grid = element_blank(),
axis.text = element_text(colour="black"))+
scale_colour_viridis(discrete = TRUE,
option = "D")
plot_final <- data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm",
fill = "lightgrey")+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)), #r means right
panel.grid = element_blank(),
axis.text = element_text(colour="black"))+
scale_colour_viridis(discrete = TRUE,
option = "D")
ggsave(filename = "Scatterplot_sprichness_temperature.png",
plot = plot_final,
dpi = 1000,
width = 15,
height=10,
units="cm")
plot_final <- data_plot |>
ggplot(aes(x = Species_richness,
y = Avg_T2,
colour = Date))+
geom_smooth(method="lm",
fill = "lightgrey")+
geom_point(shape = 16,
size = 3)+
theme_bw()+
xlab("Plant species richness")+
ylab("Air temperature (°C)")+
theme(axis.title.x = element_text(margin = margin(t=10)), #t means top
axis.title.y = element_text(margin = margin(r=10)), #r means right
panel.grid = element_blank(),
axis.text = element_text(colour="black"))+
scale_colour_viridis(discrete = TRUE,
option = "D")
ggsave(filename = "Scatterplot_sprichness_temperature.png",
plot = plot_final,
dpi = 1000,
width = 15,
height=12,
units="cm")
15/2.54
12/2.54
16/2.54
7.5/2.54
